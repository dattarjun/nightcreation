{% extends 'base.html' %}
{% block content %}
<section class="post-details">
    <h2>{{ post.title }}</h2>
    <p>{{ post.content }}</p>
    <p>Posted by: {{ post.user.username }}</p>
    
    <!-- Comments Section -->
    <h3>Comments</h3>
    <form method="POST" action="{{ url_for('add_comment', post_id=post.id) }}">
        <label for="comment">Add a Comment:</label>
        <textarea id="comment" name="comment" required></textarea>
        <button type="submit">Submit</button>
    </form>
    
    <div class="comments-list">
        {% for comment in comments %}
        <div class="comment">
            <p>{{ comment.content }}</p>
            <p>By: {{ comment.user.username }}</p>
        </div>
        {% endfor %}
    </div>

    <!-- Voting Section -->
    <h3>Vote</h3>
    <form method="POST" action="{{ url_for('vote_post', post_id=post.id) }}">
        <button type="submit" name="vote" value="like">Like</button>
        <button type="submit" name="vote" value="dislike">Dislike</button>
    </form>
</section>
{% endblock %}
